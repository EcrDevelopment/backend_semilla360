# Generated by Django 5.0.14 on 2025-05-29 19:45

import django.db.models.deletion
import importaciones.models
import simple_history.models
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='OrdenCompraStarsoft',
            fields=[
                ('CNUMERO', models.CharField(max_length=13, primary_key=True, serialize=False)),
                ('CNUMIMP', models.CharField(blank=True, max_length=13, null=True)),
                ('CITEM', models.CharField(max_length=3)),
                ('CCODPROVE', models.CharField(blank=True, max_length=11, null=True)),
                ('FEMISION', models.DateTimeField(blank=True, null=True)),
                ('CCODARTIC', models.CharField(blank=True, max_length=20, null=True)),
                ('CCODREFER', models.CharField(blank=True, max_length=40, null=True)),
                ('CDESARTIC', models.CharField(blank=True, max_length=200, null=True)),
                ('CUNIDAD', models.CharField(blank=True, max_length=6, null=True)),
                ('CUNIREFER', models.CharField(blank=True, max_length=6, null=True)),
                ('NFACTOR', models.FloatField(default=0)),
                ('NCANTIDAD', models.FloatField(default=0)),
                ('NPREUNITA', models.FloatField(default=0)),
                ('NDSCPORCE', models.FloatField(default=0)),
                ('NDESCUENT', models.FloatField(default=0)),
                ('NPRENETO', models.FloatField(default=0)),
                ('NPREREF', models.FloatField(default=0)),
                ('NCANTUNID', models.FloatField(default=0)),
                ('NTOTVENT', models.FloatField(default=0)),
                ('NCANTENTR', models.FloatField(default=0)),
                ('NCANSALDO', models.FloatField(default=0)),
                ('CESTADO', models.CharField(blank=True, max_length=2, null=True)),
                ('NRECIBIDO', models.FloatField(default=0)),
                ('NVALORCIF', models.FloatField(default=0)),
                ('NPORCIF', models.FloatField(default=0)),
                ('NADVALOR', models.FloatField(default=0)),
                ('CLLAVE', models.CharField(blank=True, max_length=13, null=True)),
                ('CMARCA', models.CharField(blank=True, max_length=1, null=True)),
                ('TIPORDEN', models.CharField(blank=True, max_length=2, null=True)),
                ('CCOMENT1', models.TextField(blank=True, null=True)),
                ('NFACTOR1', models.FloatField(default=0)),
                ('NCANNAC', models.DecimalField(decimal_places=4, default=0, max_digits=18)),
                ('NFACTORPRV', models.DecimalField(decimal_places=6, default=0, max_digits=15)),
                ('NPRECIODES', models.DecimalField(decimal_places=6, default=0, max_digits=15)),
                ('NTPRECIODES', models.DecimalField(decimal_places=6, default=0, max_digits=15)),
            ],
            options={
                'db_table': 'IMPORD',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Proveedor',
            fields=[
                ('PRVCCODIGO', models.CharField(db_column='PRVCCODIGO', max_length=11, primary_key=True, serialize=False)),
                ('PRVCNOMBRE', models.CharField(blank=True, db_column='PRVCNOMBRE', max_length=100, null=True)),
                ('PRVCDIRECC', models.CharField(blank=True, db_column='PRVCDIRECC', max_length=100, null=True)),
                ('PRVCLOCALI', models.CharField(blank=True, db_column='PRVCLOCALI', max_length=25, null=True)),
                ('PRVCPAISAC', models.CharField(blank=True, db_column='PRVCPAISAC', max_length=15, null=True)),
                ('PRVCTELEF1', models.CharField(blank=True, db_column='PRVCTELEF1', max_length=30, null=True)),
                ('PRVCFAXACR', models.CharField(blank=True, db_column='PRVCFAXACR', max_length=15, null=True)),
                ('PRVCTIPOAC', models.CharField(blank=True, db_column='PRVCTIPOAC', max_length=2, null=True)),
                ('PRVCGIROAC', models.CharField(blank=True, db_column='PRVCGIROAC', max_length=2, null=True)),
                ('PRVCREPRES', models.CharField(blank=True, db_column='PRVCREPRES', max_length=40, null=True)),
                ('PRVCCARREP', models.CharField(blank=True, db_column='PRVCCARREP', max_length=20, null=True)),
                ('PRVCTELREP', models.CharField(blank=True, db_column='PRVCTELREP', max_length=15, null=True)),
                ('PRVDFECCRE', models.DateTimeField(blank=True, db_column='PRVDFECCRE', null=True)),
                ('PRVCUSER', models.CharField(blank=True, db_column='PRVCUSER', max_length=8, null=True)),
                ('PRPVCRUC', models.CharField(blank=True, db_column='PRPVCRUC', max_length=11, null=True)),
                ('PRVCRUC', models.CharField(blank=True, db_column='PRVCRUC', max_length=11, null=True)),
                ('PRVCABREVI', models.CharField(blank=True, db_column='PRVCABREVI', max_length=12, null=True)),
                ('PRVCESTADO', models.CharField(blank=True, db_column='PRVCESTADO', max_length=2, null=True)),
                ('PRVDFECMOD', models.DateTimeField(blank=True, db_column='PRVDFECMOD', null=True)),
                ('PRVEMAIL', models.CharField(blank=True, db_column='PRVEMAIL', max_length=50, null=True)),
                ('PRVCODFAB', models.CharField(blank=True, db_column='PRVCODFAB', max_length=1, null=True)),
                ('PRVPAGO', models.CharField(blank=True, db_column='PRVPAGO', max_length=4, null=True)),
                ('PRVFACTOR', models.DecimalField(blank=True, db_column='PRVFACTOR', decimal_places=6, max_digits=15, null=True)),
                ('PRVGLOSA', models.CharField(blank=True, db_column='PRVGLOSA', max_length=255, null=True)),
                ('PRVREPRESENTANTE', models.CharField(blank=True, db_column='PRVREPRESENTANTE', max_length=60, null=True)),
                ('PRVCONTACTO', models.CharField(blank=True, db_column='PRVCONTACTO', max_length=60, null=True)),
                ('PRVTELREP', models.CharField(blank=True, db_column='PRVTELREP', max_length=30, null=True)),
                ('PRVFAXREP', models.CharField(blank=True, db_column='PRVFAXREP', max_length=30, null=True)),
                ('PRVEMAILREP', models.CharField(blank=True, db_column='PRVEMAILREP', max_length=60, null=True)),
                ('PRVCTIPO_DOCUMENTO', models.CharField(blank=True, db_column='PRVCTIPO_DOCUMENTO', max_length=2, null=True)),
                ('PRVCAPELLIDO_PATERNO', models.CharField(blank=True, db_column='PRVCAPELLIDO_PATERNO', max_length=20, null=True)),
                ('PRVCAPELLIDO_MATERNO', models.CharField(blank=True, db_column='PRVCAPELLIDO_MATERNO', max_length=20, null=True)),
                ('PRVCPRIMER_NOMBRE', models.CharField(blank=True, db_column='PRVCPRIMER_NOMBRE', max_length=20, null=True)),
                ('PRVCSEGUNDO_NOMBRE', models.CharField(blank=True, db_column='PRVCSEGUNDO_NOMBRE', max_length=20, null=True)),
                ('PRVCDOCIDEN', models.CharField(blank=True, db_column='PRVCDOCIDEN', max_length=15, null=True)),
                ('FLGPORTAL_PROVEEDOR', models.BooleanField(blank=True, db_column='FLGPORTAL_PROVEEDOR', null=True)),
                ('FEC_INACTIVO_BLOQUEADO', models.DateTimeField(blank=True, db_column='FEC_INACTIVO_BLOQUEADO', null=True)),
                ('COD_AUDITORIA', models.CharField(blank=True, db_column='COD_AUDITORIA', max_length=12, null=True)),
                ('UBIGEO', models.CharField(blank=True, db_column='UBIGEO', max_length=12, null=True)),
            ],
            options={
                'verbose_name': 'Proveedor',
                'verbose_name_plural': 'Proveedores',
                'db_table': 'MAEPROV',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Despacho',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('dua', models.CharField(max_length=50)),
                ('fecha_numeracion', models.DateTimeField()),
                ('carta_porte', models.CharField(blank=True, max_length=50, null=True)),
                ('num_factura', models.CharField(max_length=50)),
                ('flete_pactado', models.DecimalField(decimal_places=2, max_digits=10)),
                ('peso_neto_crt', models.DecimalField(decimal_places=2, max_digits=10)),
                ('fecha_llegada', models.DateTimeField(null=True)),
                ('fecha_de_creacion', models.DateTimeField(auto_now_add=True)),
                ('fecha_de_actualizacion', models.DateTimeField(auto_now=True)),
                ('archivo_pdf', models.BinaryField(blank=True, max_length='max', null=True)),
            ],
            options={
                'db_table': 'despacho',
            },
        ),
        migrations.CreateModel(
            name='Empresa',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre_empresa', models.CharField(max_length=255)),
                ('fecha_de_creacion', models.DateTimeField(auto_now_add=True)),
                ('fecha_de_actualizacion', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'empresa',
            },
        ),
        migrations.CreateModel(
            name='Producto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre_producto', models.CharField(max_length=255)),
                ('codigo_producto', models.CharField(max_length=255)),
                ('proveedor_marca', models.CharField(max_length=255)),
                ('fecha_de_creacion', models.DateTimeField(auto_now_add=True)),
                ('fecha_de_actualizacion', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'producto',
            },
        ),
        migrations.CreateModel(
            name='ProveedorTransporte',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre_proveedor', models.CharField(max_length=255)),
                ('fecha_de_creacion', models.DateTimeField(auto_now_add=True)),
                ('fecha_de_actualizacion', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'proveedor',
            },
        ),
        migrations.CreateModel(
            name='Transportista',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre_transportista', models.CharField(max_length=255)),
                ('fecha_de_creacion', models.DateTimeField(auto_now_add=True)),
                ('fecha_de_actualizacion', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'transportista',
            },
        ),
        migrations.CreateModel(
            name='OrdenCompraDetStarsoft',
            fields=[
                ('CNUMERO', models.OneToOneField(db_column='CNUMERO', on_delete=django.db.models.deletion.CASCADE, primary_key=True, related_name='detalles', serialize=False, to='importaciones.ordencomprastarsoft')),
                ('CNUMIMP', models.CharField(blank=True, max_length=13, null=True)),
                ('CCODPROVE', models.CharField(blank=True, max_length=11, null=True)),
                ('CDESPROVE', models.CharField(blank=True, max_length=100, null=True)),
                ('FEMISION', models.DateTimeField(blank=True, null=True)),
                ('NIMPORTE', models.FloatField(default=0)),
                ('CCODMONIM', models.CharField(blank=True, max_length=4, null=True)),
                ('NEQUIV_US', models.FloatField(default=0)),
                ('NTIPCAMBI', models.FloatField(default=0)),
                ('CESTADO', models.CharField(blank=True, max_length=4, null=True)),
                ('CLIQADUAN', models.CharField(blank=True, max_length=20, null=True)),
                ('CSOLIINSP', models.CharField(blank=True, max_length=16, null=True)),
                ('CGUIATRAN', models.CharField(blank=True, max_length=16, null=True)),
                ('NLIQVALOR', models.FloatField(default=0)),
                ('LLIQREAL', models.BooleanField(default=False)),
                ('NSALDOTOT', models.FloatField(default=0)),
                ('NSALLIQUI', models.FloatField(default=0)),
                ('COBSERVAC', models.CharField(blank=True, max_length=100, null=True)),
                ('LREAL', models.BooleanField(default=False)),
                ('TIPORDEN', models.CharField(blank=True, max_length=2, null=True)),
                ('CNUMLIQUI', models.CharField(blank=True, max_length=20, null=True)),
                ('NADVALOR', models.FloatField(default=0)),
                ('CVOLANTE', models.CharField(blank=True, max_length=13, null=True)),
                ('CLLAVE', models.CharField(blank=True, max_length=13, null=True)),
                ('CCONVER', models.CharField(blank=True, max_length=3, null=True)),
                ('CPACKING', models.CharField(blank=True, max_length=13, null=True)),
                ('TIPCONVER', models.CharField(blank=True, max_length=3, null=True)),
                ('TIPPREIMP', models.CharField(blank=True, max_length=3, null=True)),
                ('CSITUACION', models.CharField(blank=True, max_length=2, null=True)),
                ('CTERM', models.TextField(blank=True, null=True)),
                ('CFLETE', models.DecimalField(decimal_places=2, default=0, max_digits=20)),
                ('CSEGURO', models.DecimalField(decimal_places=2, default=0, max_digits=20)),
                ('CETAPA', models.CharField(blank=True, max_length=8, null=True)),
                ('CCODCLI', models.CharField(blank=True, max_length=11, null=True)),
                ('CDESCLI', models.CharField(blank=True, max_length=100, null=True)),
                ('CCODMARCA', models.CharField(blank=True, max_length=20, null=True)),
                ('CDESMARCA', models.CharField(blank=True, max_length=30, null=True)),
                ('COD_AUDITORIA', models.CharField(blank=True, max_length=12, null=True)),
                ('CFLETE_MN', models.DecimalField(decimal_places=6, default=0, max_digits=15)),
                ('CSEGURO_MN', models.DecimalField(decimal_places=6, default=0, max_digits=15)),
                ('TIPODOCUMENTO', models.CharField(default='OI', max_length=2)),
            ],
            options={
                'db_table': 'IMPORC',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Declaracion',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('state', models.BooleanField(default=True, verbose_name='Estado')),
                ('created_date', models.DateField(auto_now_add=True, verbose_name='Fecha de Creación')),
                ('modified_date', models.DateField(auto_now=True, verbose_name='Fecha de Modificación')),
                ('deleted_date', models.DateField(auto_now=True, verbose_name='Fecha de Eliminación')),
                ('numero', models.CharField(max_length=50, unique=True)),
                ('fecha_registro', models.DateTimeField(auto_now_add=True)),
                ('anio', models.PositiveIntegerField(blank=True, null=True)),
            ],
            options={
                'db_table': 'declaracion',
                'unique_together': {('numero', 'anio')},
            },
        ),
        migrations.CreateModel(
            name='ConfiguracionDespacho',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('merma_permitida', models.DecimalField(decimal_places=2, max_digits=10)),
                ('precio_prod', models.DecimalField(decimal_places=3, max_digits=10)),
                ('gastos_nacionalizacion', models.DecimalField(decimal_places=2, max_digits=10)),
                ('margen_financiero', models.DecimalField(decimal_places=2, max_digits=10)),
                ('precio_sacos_rotos', models.DecimalField(decimal_places=2, max_digits=10)),
                ('precio_sacos_humedos', models.DecimalField(decimal_places=2, max_digits=10)),
                ('precio_sacos_mojados', models.DecimalField(decimal_places=2, max_digits=10)),
                ('tipo_cambio_desc_ext', models.DecimalField(decimal_places=3, max_digits=10)),
                ('fecha_de_creacion', models.DateTimeField(auto_now_add=True)),
                ('fecha_de_actualizacion', models.DateTimeField(auto_now=True)),
                ('despacho', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='importaciones.despacho')),
            ],
            options={
                'db_table': 'configuracion_despacho',
            },
        ),
        migrations.CreateModel(
            name='DetalleDespacho',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('sacos_cargados', models.IntegerField()),
                ('placa_salida', models.CharField(max_length=10)),
                ('peso_salida', models.DecimalField(decimal_places=2, max_digits=10)),
                ('placa_llegada', models.CharField(max_length=10)),
                ('sacos_descargados', models.IntegerField()),
                ('peso_llegada', models.DecimalField(decimal_places=2, max_digits=10)),
                ('merma', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('sacos_faltantes', models.IntegerField(blank=True, null=True)),
                ('sacos_rotos', models.IntegerField(blank=True, null=True)),
                ('sacos_humedos', models.IntegerField(blank=True, null=True)),
                ('sacos_mojados', models.IntegerField(blank=True, null=True)),
                ('pago_estiba', models.CharField(blank=True, max_length=50, null=True)),
                ('cant_desc', models.IntegerField(blank=True, null=True)),
                ('fecha_de_creacion', models.DateTimeField(auto_now_add=True)),
                ('fecha_de_actualizacion', models.DateTimeField(auto_now=True)),
                ('despacho', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='importaciones.despacho')),
            ],
            options={
                'db_table': 'detalle_despacho',
            },
        ),
        migrations.CreateModel(
            name='Documento',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('state', models.BooleanField(default=True, verbose_name='Estado')),
                ('created_date', models.DateField(auto_now_add=True, verbose_name='Fecha de Creación')),
                ('modified_date', models.DateField(auto_now=True, verbose_name='Fecha de Modificación')),
                ('deleted_date', models.DateField(auto_now=True, verbose_name='Fecha de Eliminación')),
                ('archivo', models.FileField(upload_to=importaciones.models.ruta_documento)),
                ('nombre_original', models.CharField(max_length=255)),
                ('hash_archivo', models.CharField(blank=True, max_length=64, null=True)),
                ('referencia_interna', models.CharField(blank=True, max_length=100, null=True)),
                ('fecha_subida', models.DateTimeField(auto_now_add=True)),
                ('declaracion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='documentos', to='importaciones.declaracion')),
                ('usuario', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'documento',
            },
        ),
        migrations.CreateModel(
            name='ExpedienteDeclaracion',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('state', models.BooleanField(default=True, verbose_name='Estado')),
                ('created_date', models.DateField(auto_now_add=True, verbose_name='Fecha de Creación')),
                ('modified_date', models.DateField(auto_now=True, verbose_name='Fecha de Modificación')),
                ('deleted_date', models.DateField(auto_now=True, verbose_name='Fecha de Eliminación')),
                ('descripcion', models.TextField(blank=True, null=True)),
                ('tipo', models.CharField(default='edicion', max_length=50)),
                ('fecha', models.DateTimeField(auto_now_add=True)),
                ('declaracion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='expedientes', to='importaciones.declaracion')),
                ('documento', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='expedientes', to='importaciones.documento')),
                ('usuario', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'expediente_declaracion',
                'ordering': ['-fecha'],
            },
        ),
        migrations.CreateModel(
            name='GastosExtra',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('descripcion', models.CharField(max_length=255)),
                ('monto', models.DecimalField(decimal_places=2, max_digits=10)),
                ('fecha_de_creacion', models.DateTimeField(auto_now_add=True)),
                ('fecha_de_actualizacion', models.DateTimeField(auto_now=True)),
                ('despacho', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='importaciones.despacho')),
            ],
            options={
                'db_table': 'gastos_extra',
            },
        ),
        migrations.CreateModel(
            name='HistoricalDeclaracion',
            fields=[
                ('id', models.IntegerField(blank=True, db_index=True)),
                ('state', models.BooleanField(default=True, verbose_name='Estado')),
                ('created_date', models.DateField(blank=True, editable=False, verbose_name='Fecha de Creación')),
                ('modified_date', models.DateField(blank=True, editable=False, verbose_name='Fecha de Modificación')),
                ('deleted_date', models.DateField(blank=True, editable=False, verbose_name='Fecha de Eliminación')),
                ('numero', models.CharField(db_index=True, max_length=50)),
                ('fecha_registro', models.DateTimeField(blank=True, editable=False)),
                ('anio', models.PositiveIntegerField(blank=True, null=True)),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical declaracion',
                'verbose_name_plural': 'historical declaracions',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalDocumento',
            fields=[
                ('id', models.IntegerField(blank=True, db_index=True)),
                ('state', models.BooleanField(default=True, verbose_name='Estado')),
                ('created_date', models.DateField(blank=True, editable=False, verbose_name='Fecha de Creación')),
                ('modified_date', models.DateField(blank=True, editable=False, verbose_name='Fecha de Modificación')),
                ('deleted_date', models.DateField(blank=True, editable=False, verbose_name='Fecha de Eliminación')),
                ('archivo', models.TextField(max_length=100)),
                ('nombre_original', models.CharField(max_length=255)),
                ('hash_archivo', models.CharField(blank=True, max_length=64, null=True)),
                ('referencia_interna', models.CharField(blank=True, max_length=100, null=True)),
                ('fecha_subida', models.DateTimeField(blank=True, editable=False)),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('declaracion', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='importaciones.declaracion')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('usuario', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical documento',
                'verbose_name_plural': 'historical documentos',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalExpedienteDeclaracion',
            fields=[
                ('id', models.IntegerField(blank=True, db_index=True)),
                ('state', models.BooleanField(default=True, verbose_name='Estado')),
                ('created_date', models.DateField(blank=True, editable=False, verbose_name='Fecha de Creación')),
                ('modified_date', models.DateField(blank=True, editable=False, verbose_name='Fecha de Modificación')),
                ('deleted_date', models.DateField(blank=True, editable=False, verbose_name='Fecha de Eliminación')),
                ('descripcion', models.TextField(blank=True, null=True)),
                ('tipo', models.CharField(default='edicion', max_length=50)),
                ('fecha', models.DateTimeField(blank=True, editable=False)),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('declaracion', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='importaciones.declaracion')),
                ('documento', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='importaciones.documento')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('usuario', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical expediente declaracion',
                'verbose_name_plural': 'historical expediente declaracions',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='OrdenCompra',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_oc', models.CharField(max_length=50, unique=True)),
                ('precio_producto', models.DecimalField(decimal_places=3, max_digits=10)),
                ('cantidad', models.PositiveIntegerField()),
                ('fecha_de_creacion', models.DateTimeField(auto_now_add=True)),
                ('fecha_de_actualizacion', models.DateTimeField(auto_now=True)),
                ('empresa', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='importaciones.empresa')),
                ('producto', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='importaciones.producto')),
            ],
            options={
                'db_table': 'orden_compra',
            },
        ),
        migrations.CreateModel(
            name='OrdenCompraDespacho',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('cantidad_asignada', models.PositiveIntegerField()),
                ('numero_recojo', models.PositiveIntegerField()),
                ('fecha_de_creacion', models.DateTimeField(auto_now_add=True)),
                ('fecha_de_actualizacion', models.DateTimeField(auto_now=True)),
                ('despacho', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ordenes_despacho', to='importaciones.despacho')),
                ('orden_compra', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='importaciones.ordencompra')),
            ],
            options={
                'db_table': 'orden_compra_despacho',
            },
        ),
        migrations.AddField(
            model_name='despacho',
            name='ordenes_compra',
            field=models.ManyToManyField(related_name='despachos', through='importaciones.OrdenCompraDespacho', to='importaciones.ordencompra'),
        ),
        migrations.AddField(
            model_name='despacho',
            name='proveedor',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='importaciones.proveedortransporte'),
        ),
        migrations.AddField(
            model_name='despacho',
            name='transportista',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='importaciones.transportista'),
        ),
        migrations.AddIndex(
            model_name='documento',
            index=models.Index(fields=['hash_archivo'], name='documento_hash_ar_22fe99_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='ordencompradespacho',
            unique_together={('orden_compra', 'numero_recojo')},
        ),
    ]
